{
  "active": true,
  "activeVersion": {
    "updatedAt": "2025-12-30T00:54:45.000Z",
    "createdAt": "2025-12-30T00:53:46.489Z",
    "versionId": "072ce50f-fbfc-4443-b584-4353967063ff",
    "workflowId": "iERBtie2iZV2PJJf",
    "nodes": [
      {
        "parameters": {
          "workflowId": {
            "__rl": true,
            "value": "QA7Qdseg7ehAOWP6",
            "mode": "list",
            "cachedResultUrl": "/workflow/QA7Qdseg7ehAOWP6",
            "cachedResultName": "Zenoti-GetAuthToken"
          },
          "workflowInputs": {
            "mappingMode": "defineBelow",
            "value": {},
            "matchingColumns": [],
            "schema": [],
            "attemptToConvertTypes": false,
            "convertFieldsToString": true
          },
          "options": {}
        },
        "type": "n8n-nodes-base.executeWorkflow",
        "typeVersion": 1.3,
        "position": [
          224,
          -224
        ],
        "id": "08d0886a-c907-40db-af9d-4a10dd6773d0",
        "name": "Call 'Zenoti-GetAuthToken'"
      },
      {
        "parameters": {
          "url": "=https://api.zenoti.com/v1/centers/{{ $json.Zenoti_ID }}/employees?page=1&size=30",
          "sendQuery": true,
          "queryParameters": {
            "parameters": [
              {
                "name": "page",
                "value": "1"
              },
              {
                "name": "size",
                "value": "10"
              }
            ]
          },
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "=Bearer {{ $('Call \\'Zenoti-GetAuthToken\\'').item.json.TokenSecret }}"
              },
              {
                "name": "accept",
                "value": "application/json"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          896,
          -224
        ],
        "id": "72dbf626-26dc-475f-9aff-365b8d17747b",
        "name": "HTTP Request"
      },
      {
        "parameters": {
          "operation": "get",
          "dataTableId": {
            "__rl": true,
            "value": "lsINP70DmcZtIj4M",
            "mode": "list",
            "cachedResultName": "ZenotiClinics",
            "cachedResultUrl": "/projects/gMwV5v9nxJB6matq/datatables/lsINP70DmcZtIj4M"
          },
          "filters": {
            "conditions": [
              {
                "keyName": "name",
                "keyValue": "={{ $('AutoTrigger').item.json.location }}"
              }
            ]
          }
        },
        "type": "n8n-nodes-base.dataTable",
        "typeVersion": 1,
        "position": [
          672,
          -224
        ],
        "id": "e1230228-6d64-4033-ad96-2f7656a003a8",
        "name": "Get row(s)"
      },
      {
        "parameters": {
          "fieldToSplitOut": "employees",
          "options": {}
        },
        "type": "n8n-nodes-base.splitOut",
        "typeVersion": 1,
        "position": [
          1120,
          -224
        ],
        "id": "addaa4c5-1dc0-4cb6-bc70-4005e23cb1ac",
        "name": "Split Out"
      },
      {
        "parameters": {
          "jsCode": "// Pull variables from previous nodes\nconst empCode   = $('AutoTrigger').first().json.employeeId;\nconst centerId  = $('Get row(s)').first().json.Zenoti_ID;\nconst createdBy = \"00000000-0000-0000-0000-000000000000\";\n\nconst firstName = $('AutoTrigger').first().json.firstName;\nconst lastName = $('AutoTrigger').first().json.lastName;\nconst email     = $('AutoTrigger').first().json.userPrincipalName;\nconst username  = $('AutoTrigger').first().json.samAccountName;\nconst jobid = $input.first().json.job_info.job_id;\nconst jobname = $input.first().json.job_info.job_name;\n\n// Build payload EXACTLY as Zenoti expects\nconst payload = {\n  id: null,\n  code: empCode,\n  center_id: centerId,\n  created_by: createdBy,\n\n  personal_info: {\n    first_name: firstName,\n    last_name: lastName,\n    email: email\n  },\n\n  login_info: {\n    username: username\n  },\n\n  job_info: {\n    job_id: jobid,\n    name: jobname\n  }\n};\n\n// Return the payload DIRECTLY (no wrapper!)\nreturn [\n  {\n    json: payload\n  }\n];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          2240,
          -320
        ],
        "id": "653aa4a0-1e7c-4881-a2fc-812ce5de7f75",
        "name": "Create JSON",
        "executeOnce": true
      },
      {
        "parameters": {
          "method": "POST",
          "url": "https://api.zenoti.com/v1/employees",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "=bearer {{ $('Call \\'Zenoti-GetAuthToken\\'').first().json.TokenSecret }}"
              },
              {
                "name": "accept",
                "value": "application/json"
              }
            ]
          },
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "={{ JSON.stringify($json) }}",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          2464,
          -320
        ],
        "id": "abebfa3e-cca7-42ac-aef3-84c14f43a741",
        "name": "Create User Zenoti",
        "executeOnce": true
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "b6fd44b9-a6a0-40bf-b6ba-b71df93bc47f",
                "leftValue": "={{ $json.job_info.name }}",
                "rightValue": "={{ $('Job Title Clean').item.json.firstFive }}",
                "operator": {
                  "type": "string",
                  "operation": "startsWith"
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.filter",
        "typeVersion": 2.2,
        "position": [
          1344,
          -224
        ],
        "id": "5800a3fc-36a8-4b69-804a-e605840bcab1",
        "name": "Filter",
        "alwaysOutputData": true
      },
      {
        "parameters": {
          "jsCode": "// Get your source variable (replace `myValue` with your actual field)\nconst inputValue = $('AutoTrigger').first().json.position || \"\";\n\n// Clean it up: trim whitespace, convert to string\nconst cleaned = String(inputValue).trim();\n\n// Get first 5 characters\nconst firstFive = cleaned.substring(0, 5);\n\n// Return\nreturn [\n  {\n    json: {\n      original: cleaned,\n      firstFive: firstFive\n    }\n  }\n];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          448,
          -224
        ],
        "id": "fabbe90e-d6e5-4075-9f51-a35a94437210",
        "name": "Job Title Clean"
      },
      {
        "parameters": {
          "jsCode": "const items = $input.all();\nconst empty = items.length === 1 && Object.keys(items[0].json).length === 0;\n\n// Add the flag to the first (or only) item\nif (items.length > 0) {\n  items[0].json.empty = empty;\n  return items;\n}\n\n// If nothing came in, emit one with just the flag\nreturn [{ json: { empty: true } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1568,
          -224
        ],
        "id": "26a555ac-a4a0-4e25-91ae-53fb1eb4d132",
        "name": "Code in JavaScript"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "8248852f-feb1-44e1-a1dc-5e13d78726c3",
                "leftValue": "={{ $json.empty }}",
                "rightValue": "",
                "operator": {
                  "type": "boolean",
                  "operation": "false",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          1792,
          -224
        ],
        "id": "cd4ddc05-aa05-43ac-9145-cd41eb44c12c",
        "name": "If"
      },
      {
        "parameters": {
          "toRecipients": "={{ $('AutoTrigger').item.json.managerEmail }}",
          "subject": "=Zenoti New User -  {{ $('AutoTrigger').item.json.displayName }}",
          "bodyContent": "=Hi Team,\n\nI cant find a job in Zenoti for {{ $('AutoTrigger').item.json.displayName }}. There position is {{ $('AutoTrigger').item.json.position }} and I cannot find someone to match them too. \n\nYou will need to manually make them!\n\nRegards,\nAutomation",
          "additionalFields": {
            "ccRecipients": "monitoring@ashleyandmartin.com.au"
          }
        },
        "type": "n8n-nodes-base.microsoftOutlook",
        "typeVersion": 2,
        "position": [
          2016,
          -128
        ],
        "id": "8beac98d-46dc-41a1-aca8-6e24eebad5f5",
        "name": "Send a message",
        "webhookId": "07f5ad6c-a5bf-47a3-8da3-beb47816e19e",
        "credentials": {
          "microsoftOutlookOAuth2Api": {
            "id": "syr2VMZLsiSBjaSJ",
            "name": "nryall@ash"
          }
        }
      },
      {
        "parameters": {
          "url": "=https://api.zenoti.com/v1/employees/{{ $json.id }}",
          "sendHeaders": true,
          "headerParameters": {
            "parameters": [
              {
                "name": "Authorization",
                "value": "=bearer {{ $('Call \\'Zenoti-GetAuthToken\\'').item.json.TokenSecret }}"
              },
              {
                "name": "accept",
                "value": "application/json"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          2016,
          -320
        ],
        "id": "262024ac-c458-435e-ac26-dea7afa22ef4",
        "name": "HTTP Request1",
        "executeOnce": true
      },
      {
        "parameters": {
          "toRecipients": "={{ $('AutoTrigger').item.json.managerEmail }}",
          "subject": "=Zenoti New User -  {{ $('AutoTrigger').item.json.displayName }}",
          "bodyContent": "=Hi Team,\n\nThe user {{ $('AutoTrigger').item.json.displayName }} is setup in the Zenoti Clinc {{ $('Get row(s)').item.json.name }}. Please note you will need to set there password for them to gain access.\n\nUsername: {{ $json.login_info.username }}\nJobName: {{ $json.job_info.job_name }}\n\nAny issues please let IT know.\n\nRegards,\nAutomation",
          "additionalFields": {
            "ccRecipients": "monitoring@ashleyandmartin.com.au"
          }
        },
        "type": "n8n-nodes-base.microsoftOutlook",
        "typeVersion": 2,
        "position": [
          2688,
          -320
        ],
        "id": "bdba4845-9fab-4fd3-b61d-11cad5a2b9c8",
        "name": "Send a message1",
        "webhookId": "0b4faad1-d277-49ea-9ea0-e1f6181ea87c",
        "credentials": {
          "microsoftOutlookOAuth2Api": {
            "id": "syr2VMZLsiSBjaSJ",
            "name": "nryall@ash"
          }
        }
      },
      {
        "parameters": {
          "inputSource": "passthrough"
        },
        "type": "n8n-nodes-base.executeWorkflowTrigger",
        "typeVersion": 1.1,
        "position": [
          0,
          -224
        ],
        "id": "d2849d3b-4a0d-4e10-861c-6fe9b4984722",
        "name": "AutoTrigger"
      }
    ],
    "connections": {
      "Call 'Zenoti-GetAuthToken'": {
        "main": [
          [
            {
              "node": "Job Title Clean",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Get row(s)": {
        "main": [
          [
            {
              "node": "HTTP Request",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTTP Request": {
        "main": [
          [
            {
              "node": "Split Out",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Split Out": {
        "main": [
          [
            {
              "node": "Filter",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create JSON": {
        "main": [
          [
            {
              "node": "Create User Zenoti",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Create User Zenoti": {
        "main": [
          [
            {
              "node": "Send a message1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Filter": {
        "main": [
          [
            {
              "node": "Code in JavaScript",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Job Title Clean": {
        "main": [
          [
            {
              "node": "Get row(s)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Code in JavaScript": {
        "main": [
          [
            {
              "node": "If",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "If": {
        "main": [
          [
            {
              "node": "HTTP Request1",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Send a message",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTTP Request1": {
        "main": [
          [
            {
              "node": "Create JSON",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "AutoTrigger": {
        "main": [
          [
            {
              "node": "Call 'Zenoti-GetAuthToken'",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "Nicholas Ryall",
    "name": "Version 072ce50f",
    "description": "",
    "autosaved": false
  },
  "activeVersionId": "072ce50f-fbfc-4443-b584-4353967063ff",
  "connections": {
    "Call 'Zenoti-GetAuthToken'": {
      "main": [
        [
          {
            "node": "Job Title Clean",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s)": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create JSON": {
      "main": [
        [
          {
            "node": "Create User Zenoti",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create User Zenoti": {
      "main": [
        [
          {
            "node": "Send a message1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Job Title Clean": {
      "main": [
        [
          {
            "node": "Get row(s)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Send a message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "Create JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AutoTrigger": {
      "main": [
        [
          {
            "node": "Call 'Zenoti-GetAuthToken'",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-12-01T04:32:59.145Z",
  "id": "iERBtie2iZV2PJJf",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Zenoti - Create User",
  "nodes": [
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "QA7Qdseg7ehAOWP6",
          "mode": "list",
          "cachedResultUrl": "/workflow/QA7Qdseg7ehAOWP6",
          "cachedResultName": "Zenoti-GetAuthToken"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": true
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.3,
      "position": [
        224,
        -224
      ],
      "id": "08d0886a-c907-40db-af9d-4a10dd6773d0",
      "name": "Call 'Zenoti-GetAuthToken'"
    },
    {
      "parameters": {
        "url": "=https://api.zenoti.com/v1/centers/{{ $json.Zenoti_ID }}/employees?page=1&size=30",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "page",
              "value": "1"
            },
            {
              "name": "size",
              "value": "10"
            }
          ]
        },
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $('Call \\'Zenoti-GetAuthToken\\'').item.json.TokenSecret }}"
            },
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        896,
        -224
      ],
      "id": "72dbf626-26dc-475f-9aff-365b8d17747b",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "lsINP70DmcZtIj4M",
          "mode": "list",
          "cachedResultName": "ZenotiClinics",
          "cachedResultUrl": "/projects/gMwV5v9nxJB6matq/datatables/lsINP70DmcZtIj4M"
        },
        "filters": {
          "conditions": [
            {
              "keyName": "name",
              "keyValue": "={{ $('AutoTrigger').item.json.location }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        672,
        -224
      ],
      "id": "e1230228-6d64-4033-ad96-2f7656a003a8",
      "name": "Get row(s)"
    },
    {
      "parameters": {
        "fieldToSplitOut": "employees",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1120,
        -224
      ],
      "id": "addaa4c5-1dc0-4cb6-bc70-4005e23cb1ac",
      "name": "Split Out"
    },
    {
      "parameters": {
        "jsCode": "// Pull variables from previous nodes\nconst empCode   = $('AutoTrigger').first().json.employeeId;\nconst centerId  = $('Get row(s)').first().json.Zenoti_ID;\nconst createdBy = \"00000000-0000-0000-0000-000000000000\";\n\nconst firstName = $('AutoTrigger').first().json.firstName;\nconst lastName = $('AutoTrigger').first().json.lastName;\nconst email     = $('AutoTrigger').first().json.userPrincipalName;\nconst username  = $('AutoTrigger').first().json.samAccountName;\nconst jobid = $input.first().json.job_info.job_id;\nconst jobname = $input.first().json.job_info.job_name;\n\n// Build payload EXACTLY as Zenoti expects\nconst payload = {\n  id: null,\n  code: empCode,\n  center_id: centerId,\n  created_by: createdBy,\n\n  personal_info: {\n    first_name: firstName,\n    last_name: lastName,\n    email: email\n  },\n\n  login_info: {\n    username: username\n  },\n\n  job_info: {\n    job_id: jobid,\n    name: jobname\n  }\n};\n\n// Return the payload DIRECTLY (no wrapper!)\nreturn [\n  {\n    json: payload\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2240,
        -320
      ],
      "id": "653aa4a0-1e7c-4881-a2fc-812ce5de7f75",
      "name": "Create JSON",
      "executeOnce": true
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.zenoti.com/v1/employees",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=bearer {{ $('Call \\'Zenoti-GetAuthToken\\'').first().json.TokenSecret }}"
            },
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify($json) }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        2464,
        -320
      ],
      "id": "abebfa3e-cca7-42ac-aef3-84c14f43a741",
      "name": "Create User Zenoti",
      "executeOnce": true
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "b6fd44b9-a6a0-40bf-b6ba-b71df93bc47f",
              "leftValue": "={{ $json.job_info.name }}",
              "rightValue": "={{ $('Job Title Clean').item.json.firstFive }}",
              "operator": {
                "type": "string",
                "operation": "startsWith"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1344,
        -224
      ],
      "id": "5800a3fc-36a8-4b69-804a-e605840bcab1",
      "name": "Filter",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "jsCode": "// Get your source variable (replace `myValue` with your actual field)\nconst inputValue = $('AutoTrigger').first().json.position || \"\";\n\n// Clean it up: trim whitespace, convert to string\nconst cleaned = String(inputValue).trim();\n\n// Get first 5 characters\nconst firstFive = cleaned.substring(0, 5);\n\n// Return\nreturn [\n  {\n    json: {\n      original: cleaned,\n      firstFive: firstFive\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        448,
        -224
      ],
      "id": "fabbe90e-d6e5-4075-9f51-a35a94437210",
      "name": "Job Title Clean"
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nconst empty = items.length === 1 && Object.keys(items[0].json).length === 0;\n\n// Add the flag to the first (or only) item\nif (items.length > 0) {\n  items[0].json.empty = empty;\n  return items;\n}\n\n// If nothing came in, emit one with just the flag\nreturn [{ json: { empty: true } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1568,
        -224
      ],
      "id": "26a555ac-a4a0-4e25-91ae-53fb1eb4d132",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "8248852f-feb1-44e1-a1dc-5e13d78726c3",
              "leftValue": "={{ $json.empty }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1792,
        -224
      ],
      "id": "cd4ddc05-aa05-43ac-9145-cd41eb44c12c",
      "name": "If"
    },
    {
      "parameters": {
        "toRecipients": "={{ $('AutoTrigger').item.json.managerEmail }}",
        "subject": "=Zenoti New User -  {{ $('AutoTrigger').item.json.displayName }}",
        "bodyContent": "=Hi Team,\n\nI cant find a job in Zenoti for {{ $('AutoTrigger').item.json.displayName }}. There position is {{ $('AutoTrigger').item.json.position }} and I cannot find someone to match them too. \n\nYou will need to manually make them!\n\nRegards,\nAutomation",
        "additionalFields": {
          "ccRecipients": "monitoring@ashleyandmartin.com.au"
        }
      },
      "type": "n8n-nodes-base.microsoftOutlook",
      "typeVersion": 2,
      "position": [
        2016,
        -128
      ],
      "id": "8beac98d-46dc-41a1-aca8-6e24eebad5f5",
      "name": "Send a message",
      "webhookId": "07f5ad6c-a5bf-47a3-8da3-beb47816e19e",
      "credentials": {
        "microsoftOutlookOAuth2Api": {
          "id": "syr2VMZLsiSBjaSJ",
          "name": "nryall@ash"
        }
      }
    },
    {
      "parameters": {
        "url": "=https://api.zenoti.com/v1/employees/{{ $json.id }}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=bearer {{ $('Call \\'Zenoti-GetAuthToken\\'').item.json.TokenSecret }}"
            },
            {
              "name": "accept",
              "value": "application/json"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        2016,
        -320
      ],
      "id": "262024ac-c458-435e-ac26-dea7afa22ef4",
      "name": "HTTP Request1",
      "executeOnce": true
    },
    {
      "parameters": {
        "toRecipients": "={{ $('AutoTrigger').item.json.managerEmail }}",
        "subject": "=Zenoti New User -  {{ $('AutoTrigger').item.json.displayName }}",
        "bodyContent": "=Hi Team,\n\nThe user {{ $('AutoTrigger').item.json.displayName }} is setup in the Zenoti Clinc {{ $('Get row(s)').item.json.name }}. Please note you will need to set there password for them to gain access.\n\nUsername: {{ $json.login_info.username }}\nJobName: {{ $json.job_info.job_name }}\n\nAny issues please let IT know.\n\nRegards,\nAutomation",
        "additionalFields": {
          "ccRecipients": "monitoring@ashleyandmartin.com.au"
        }
      },
      "type": "n8n-nodes-base.microsoftOutlook",
      "typeVersion": 2,
      "position": [
        2688,
        -320
      ],
      "id": "bdba4845-9fab-4fd3-b61d-11cad5a2b9c8",
      "name": "Send a message1",
      "webhookId": "0b4faad1-d277-49ea-9ea0-e1f6181ea87c",
      "credentials": {
        "microsoftOutlookOAuth2Api": {
          "id": "syr2VMZLsiSBjaSJ",
          "name": "nryall@ash"
        }
      }
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        0,
        -224
      ],
      "id": "d2849d3b-4a0d-4e10-861c-6fe9b4984722",
      "name": "AutoTrigger"
    }
  ],
  "origin": "n8n",
  "pinData": {},
  "repo": {
    "owner": "AMNicholasRyall",
    "name": "n8n-workflow-Backup"
  },
  "settings": {
    "executionOrder": "v1",
    "saveDataSuccessExecution": "all",
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false,
    "timeSavedPerExecution": 5
  },
  "shared": [
    {
      "updatedAt": "2025-12-01T04:32:59.147Z",
      "createdAt": "2025-12-01T04:32:59.147Z",
      "role": "workflow:owner",
      "workflowId": "iERBtie2iZV2PJJf",
      "projectId": "gMwV5v9nxJB6matq"
    }
  ],
  "staticData": null,
  "tags": [
    {
      "updatedAt": "2025-11-07T01:33:39.006Z",
      "createdAt": "2025-11-07T01:33:39.006Z",
      "id": "WIsNIXL4vR1ZWj36",
      "name": "Zenoti"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-12-30T00:54:54.844Z",
  "versionId": "072ce50f-fbfc-4443-b584-4353967063ff"
}